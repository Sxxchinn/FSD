<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive To-Do List</title>
    <!-- Tailwind CSS for modern styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts for a clean, modern font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        /* Custom styles to complement Tailwind */
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Style for completed tasks */
        .completed {
            text-decoration: line-through;
            color: #888;
        }
        /* Simple transition for list items */
        li {
            transition: background-color 0.2s ease-in-out;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 flex items-center justify-center min-h-screen">

    <!-- Main container for the to-do list application -->
    <div class="w-full max-w-md mx-auto bg-white dark:bg-gray-800 shadow-2xl rounded-2xl p-6 md:p-8">
        
        <!-- Header Section -->
        <div class="text-center mb-6">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-800 dark:text-white">My To-Do List</h1>
            <p class="text-gray-500 dark:text-gray-400 mt-2">Stay organized and productive!</p>
        </div>

        <!-- Input form to add new tasks -->
        <div class="flex gap-3 mb-6">
            <input type="text" id="taskInput" placeholder="Add a new task..." class="flex-grow p-3 border-2 border-gray-200 dark:border-gray-700 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-white transition-shadow">
            <button id="addTaskBtn" class="bg-blue-600 text-white font-semibold px-6 py-3 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-transform transform hover:scale-105">
                Add
            </button>
        </div>

        <!-- Unordered list where tasks will be displayed -->
        <ul id="taskList" class="space-y-3">
            <!-- Example Task (can be removed) -->
            <li class="flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600">
                <span class="text-gray-800 dark:text-gray-200">Click me to mark as complete</span>
                <button class="delete-btn text-red-500 hover:text-red-700 font-bold transition-colors">
                    &#x2715; <!-- Cross mark character -->
                </button>
            </li>
        </ul>

    </div>

    <script>
        // Wait for the DOM to be fully loaded before running the script
        document.addEventListener('DOMContentLoaded', () => {
            
            // Get references to the essential HTML elements
            const taskInput = document.getElementById('taskInput');
            const addTaskBtn = document.getElementById('addTaskBtn');
            const taskList = document.getElementById('taskList');

            /**
             * Creates and adds a new task to the list.
             * @param {string} taskText - The text for the new task.
             */
            function addTask(taskText) {
                // Trim whitespace and check if the input is empty
                const text = taskText.trim();
                if (text === '') {
                    // You could show a custom message box here instead of an alert
                    console.log("Task cannot be empty.");
                    return; 
                }

                // Create the list item element
                const li = document.createElement('li');
                li.className = 'flex items-center justify-between bg-gray-50 dark:bg-gray-700 p-4 rounded-lg shadow-sm cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600';

                // Create the span to hold the task text
                const taskSpan = document.createElement('span');
                taskSpan.textContent = text;
                taskSpan.className = 'text-gray-800 dark:text-gray-200';
                
                // Create the delete button
                const deleteBtn = document.createElement('button');
                deleteBtn.innerHTML = '&#x2715;'; // Cross mark
                deleteBtn.className = 'delete-btn text-red-500 hover:text-red-700 font-bold transition-colors';

                // Append the text and button to the list item
                li.appendChild(taskSpan);
                li.appendChild(deleteBtn);

                // Add the new list item to the task list
                taskList.appendChild(li);

                // Clear the input field for the next task
                taskInput.value = '';
                taskInput.focus(); // Set focus back to the input field
            }

            // --- Event Listeners ---

            // 1. Add task when the "Add" button is clicked
            addTaskBtn.addEventListener('click', () => {
                addTask(taskInput.value);
            });

            // 2. Add task when the "Enter" key is pressed in the input field
            taskInput.addEventListener('keypress', (event) => {
                if (event.key === 'Enter') {
                    addTask(taskInput.value);
                }
            });

            // 3. Handle clicks on the task list for completing or deleting tasks
            // This uses event delegation to efficiently handle events on all list items
            taskList.addEventListener('click', (event) => {
                const target = event.target;
                
                // Check if a delete button was clicked
                if (target.classList.contains('delete-btn')) {
                    const listItem = target.parentElement;
                    // Animate out before removing
                    listItem.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
                    listItem.style.opacity = '0';
                    listItem.style.transform = 'translateX(20px)';
                    setTimeout(() => {
                        listItem.remove();
                    }, 300);
                } 
                // Check if a list item (or its text) was clicked
                else if (target.tagName === 'LI' || target.tagName === 'SPAN') {
                    const listItem = target.closest('li');
                    listItem.querySelector('span').classList.toggle('completed');
                }
            });
        });
    </script>

</body>
</html>
